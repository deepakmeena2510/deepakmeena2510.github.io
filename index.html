<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Earning App</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial}
body{background:#f2f2f2}
.hidden{display:none}

.screen{min-height:100vh;padding:15px}
.topbar{background:#27ae60;color:#fff;padding:15px;text-align:center;font-size:18px}

.grid{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-top:15px}
.card{
 background:#fff;
 padding:20px;
 border-radius:15px;
 text-align:center;
 font-size:16px;
 box-shadow:0 4px 8px rgba(0,0,0,.1);
 cursor:pointer
}
.card span{font-size:30px;display:block;margin-bottom:8px}

.btn{
 width:100%;
 padding:14px;
 border:none;
 border-radius:10px;
 background:#27ae60;
 color:#fff;
 font-size:16px;
 margin-top:10px
}
input{
 width:100%;
 padding:12px;
 margin-top:10px;
 border-radius:8px;
 border:1px solid #ccc
}

.wheel{
 width:200px;height:200px;
 border-radius:50%;
 margin:20px auto;
 background:conic-gradient(#27ae60 0 120deg,#e67e22 120deg 240deg,#3498db 240deg 360deg);
 display:flex;align-items:center;justify-content:center;
 font-size:22px;color:#fff;font-weight:bold;
 transition:transform 3s ease-out
}

.amounts button{
 width:30%;
 margin:5px;
 padding:10px;
 border-radius:8px;
 border:none;
 background:#ddd
}
.locked{opacity:.4}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login" class="screen">
  <div class="topbar">Login / Signup</div>
  <input id="email" placeholder="Email">
  <input id="pass" placeholder="Password" type="password">
  <button class="btn" onclick="login()">Login</button>
</div>

<!-- HOME -->
<div id="home" class="screen hidden">
  <div class="topbar">ğŸ  Home</div>

  <div class="card">
    ğŸ’° Balance<br>
    â‚¹ <span id="bal">0</span>
  </div>

  <div class="grid">
    <div class="card" onclick="openSpin()"><span>ğŸ¡</span>Spin</div>
    <div class="card" onclick="openCaptcha()"><span>ğŸ§©</span>Captcha</div>
    <div class="card" onclick="openScratch()"><span>ğŸŸ</span>Scratch</div>
    <div class="card" onclick="openWallet()"><span>ğŸ’°</span>Wallet</div>
  </div>

  <button class="btn" onclick="logout()">Logout</button>
</div>

<!-- SPIN -->
<div id="spin" class="screen hidden">
  <div class="topbar">ğŸ¡ Spin (3 / day)</div>
  <div class="wheel" id="wheel">SPIN</div>
  <button class="btn" onclick="doSpin()">Spin Now</button>
  <button class="btn" style="background:#aaa" onclick="back()">Back</button>
</div>

<!-- CAPTCHA -->
<div id="captcha" class="screen hidden">
  <div class="topbar">ğŸ§© Captcha (3 / day)</div>
  <h2 id="capCode"></h2>
  <input id="capInput" placeholder="Enter code">
  <button class="btn" onclick="checkCaptcha()">Submit</button>
  <button class="btn" style="background:#aaa" onclick="back()">Back</button>
</div>

<!-- SCRATCH -->
<div id="scratch" class="screen hidden">
  <div class="topbar">ğŸŸ Scratch</div>
  <button class="btn" onclick="doScratch()">Scratch Card</button>
  <button class="btn" style="background:#aaa" onclick="back()">Back</button>
</div>

<!-- WALLET -->
<div id="wallet" class="screen hidden">
  <div class="topbar">ğŸ’° Wallet</div>
  <p>Balance: â‚¹<span id="bal2"></span></p>
  <input placeholder="UPI ID">

  <div class="amounts">
    <button onclick="withdraw(10)">â‚¹10</button>
    <button onclick="withdraw(50)">â‚¹50</button>
    <button onclick="withdraw(100)">â‚¹100</button>
    <button class="locked">â‚¹200</button>
    <button class="locked">â‚¹500</button>
  </div>

  <button class="btn" style="background:#aaa" onclick="back()">Back</button>
</div>

<script>
let user = localStorage.getItem("user");
let bal = Number(localStorage.getItem("bal")||0);
let spinC = Number(localStorage.getItem("spin")||0);
let capC = Number(localStorage.getItem("cap")||0);

if(user) show("home");

function login(){
 if(!email.value||!pass.value) return alert("Fill details");
 localStorage.setItem("user",email.value);
 show("home");
}

function logout(){
 localStorage.clear();
 location.reload();
}

function show(id){
 document.querySelectorAll(".screen").forEach(s=>s.classList.add("hidden"));
 document.getElementById(id).classList.remove("hidden");
 update();
}
function back(){show("home")}

function update(){
 balSpan();
}
function balSpan(){
 balEl=document.getElementById("bal");
 balEl&&(balEl.innerText=bal);
 bal2&& (bal2.innerText=bal);
}

function add(a){
 bal+=a;
 localStorage.setItem("bal",bal);
 update();
}

function openSpin(){show("spin")}
function doSpin(){
 if(spinC>=3) return alert("Daily limit");
 spinC++;localStorage.setItem("spin",spinC);
 let r=[1,2,3][Math.floor(Math.random()*3)];
 wheel.style.transform="rotate("+(360*5+Math.random()*360)+"deg)";
 setTimeout(()=>{add(r);alert("â‚¹"+r+" won")},3000);
}

function openCaptcha(){
 show("captcha");
 capCode.innerText=Math.random().toString(36).substring(2,7).toUpperCase();
}
function checkCaptcha(){
 if(capC>=3) return alert("Limit over");
 if(capInput.value==capCode.innerText){
   capC++;localStorage.setItem("cap",capC);
   add(1+Math.floor(Math.random()*3));
   alert("Correct");
 }else alert("Wrong");
}

function openScratch(){show("scratch")}
function doScratch(){
 let r=[1,2,3][Math.floor(Math.random()*3)];
 add(r);alert("You got â‚¹"+r);
}

function openWallet(){show("wallet");bal2.innerText=bal}
function withdraw(a){
 if(bal<a) return alert("Low balance");
 bal-=a;localStorage.setItem("bal",bal);
 alert("Withdraw request sent");
 update();
}
</script>
</body>
</html>
