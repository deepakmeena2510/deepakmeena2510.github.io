<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Scratch</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#f2f2f2;
  text-align:center;
}

.header{
  background:#16a085;
  color:white;
  padding:16px;
  font-size:20px;
}

.card{
  background:white;
  margin:20px;
  padding:25px;
  border-radius:15px;
  box-shadow:0 4px 12px rgba(0,0,0,0.2);
}

.btn{
  background:#2ecc71;
  color:white;
  border:none;
  border-radius:25px;
  padding:14px 30px;
  font-size:18px;
}

.count{
  margin-top:15px;
  font-size:16px;
  color:#555;
}
</style>
</head>

<body>

<div class="header">ЁЯОЯ Scratch</div>

<div class="card">
  <h2>Scratch & Win</h2>
  <button class="btn" onclick="openScratch()">ЁЯОЯ Scratch Now</button>
  <div class="count" id="info"></div>
</div>

<script>
// ================= SCRATCH DAILY LIMIT SYSTEM =================

// рдЖрдЬ рдХреА date
let today = new Date().toISOString().split('T')[0];

// saved data
let savedDate = localStorage.getItem("scratchDate");
let scratchCount = Number(localStorage.getItem("scratchCount") || 0);

// date change рд╣реЛрдиреЗ рдкрд░ reset
if (savedDate !== today) {
  scratchCount = 0;
  localStorage.setItem("scratchDate", today);
  localStorage.setItem("scratchCount", scratchCount);
}

// info рджрд┐рдЦрд╛рдирд╛
document.getElementById("info").innerText =
  "рдЖрдЬ рдмрдЪреЗ Scratch: " + (3 - scratchCount);

// scratch function
function openScratch(){

  if (scratchCount >= 3) {
    alert("тЭМ рдЖрдЬ рдХрд╛ Scratch Limit рдкреВрд░рд╛ рд╣реЛ рдЧрдпрд╛\nрдХрд▓ рдлрд┐рд░ рдЖрдирд╛");
    return;
  }

  scratchCount++;
  localStorage.setItem("scratchCount", scratchCount);

  // fake reward
  let reward = 5;
  let bal = Number(localStorage.getItem("balance") || 0);
  bal += reward;
  localStorage.setItem("balance", bal);

  alert("ЁЯОЙ Congrats!\nрдЖрдкрдХреЛ тВ╣" + reward + " рдорд┐рд▓реЗ");

  document.getElementById("info").innerText =
    "рдЖрдЬ рдмрдЪреЗ Scratch: " + (3 - scratchCount);
}
</script>

</body>
</html>
