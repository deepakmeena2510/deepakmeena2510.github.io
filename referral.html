<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Referral</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  font-family:Arial;
  background:#f2f2f2;
}
.box{
  background:#fff;
  margin:15px;
  padding:20px;
  border-radius:12px;
  box-shadow:0 4px 10px rgba(0,0,0,0.15);
  text-align:center;
}
.code{
  font-size:22px;
  font-weight:bold;
  margin:10px 0;
  letter-spacing:2px;
}
input{
  width:90%;
  padding:10px;
  font-size:16px;
  margin-top:10px;
}
button{
  margin-top:12px;
  padding:10px 20px;
  font-size:16px;
  border:none;
  border-radius:8px;
  background:#2ecc71;
  color:white;
}
</style>
</head>

<body>

<div class="box">
  <h3>üë• ‡§Ü‡§™‡§ï‡§æ Referral Code</h3>
  <div class="code" id="myCode"></div>
</div>

<div class="box">
  <h3>üì• Friend ‡§ï‡§æ Referral Code ‡§°‡§æ‡§≤‡•á‡§Ç</h3>
  <input type="text" id="refInput" placeholder="6 ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§ï‡§æ Referral Code ‡§°‡§æ‡§≤‡•á‡§Ç">
  <button onclick="applyReferral()">Submit</button>
</div>

<script>
// ‚úÖ 6 ‡§Ö‡§ï‡•ç‡§∑‡§∞ + ‡§®‡§Ç‡§¨‡§∞ ‡§µ‡§æ‡§≤‡§æ unique code
function generateCode(){
  let chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
  let code = "";
  for(let i = 0; i < 6; i++){
    code += chars.charAt(Math.floor(Math.random() * chars.length));
  }
  return code;
}

// üëâ ‡§Ö‡§™‡§®‡§æ referral code
let myCode = localStorage.getItem("my_ref_code");
if(!myCode){
  myCode = generateCode();
  localStorage.setItem("my_ref_code", myCode);
}
document.getElementById("myCode").innerText = myCode;

// üëâ Referral apply
function applyReferral(){
  let code = document.getElementById("refInput").value.trim().toUpperCase();

  if(code === ""){
    alert("Referral code ‡§°‡§æ‡§≤‡§ø‡§è");
    return;
  }

  if(code === myCode){
    alert("‚ùå ‡§Ö‡§™‡§®‡§æ referral code ‡§ñ‡•Å‡§¶ use ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á");
    return;
  }

  if(localStorage.getItem("used_ref")){
    alert("‚ùå Referral ‡§™‡§π‡§≤‡•á ‡§π‡•Ä apply ‡§π‡•ã ‡§ö‡•Å‡§ï‡§æ ‡§π‡•à");
    return;
  }

  localStorage.setItem("used_ref", code);
  alert("‚úÖ Referral ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï apply ‡§π‡•ã ‡§ó‡§Ø‡§æ");
}
</script>

</body>
</html>
